<div
  class="flexy mini-datetime {{if actionSupport 'action-support'}} {{_size}} {{if disabled 'disabled' 'enabled'}}">
  <div class="date flex-item {{if changingDate 'changing-date'}}" {{action 'changeDate'}}>
  <div class="vflexy">
      <div class="dow">{{moment _startTime 'dddd'}}</div>
      <div class="dom">{{moment _startTime 'DD'}}</div>
      <div class="month">{{moment _startTime 'MMMM'}}</div>
  </div>
  </div>
  <div class="time flexy-grow vertical {{if changingTime 'changing-time'}}"
    {{action 'changeTime'}}>
    <div class="from flex-item">
      {{moment _startTime _timeFormat}}{{#if ampm}}<span class="ampm">{{moment _startTime 'a'}}</span>{{/if}}
    </div>
    {{#if _showStopTime}}
      <div class="to flex-item">
        until {{moment _stopTime _timeFormat}}{{#if ampm}}<span class="ampm dim">{{moment _stopTime 'a'}}</span>{{/if}}
      </div>
    {{/if}}
    {{#if _showDuration}}
      <div class="to flex-item">
        for {{_durationPretty}}
      </div>
    {{/if}}
  </div>
</div>

{{#if actionSupport}}
<div class="change-actions">
  {{#if changingDate}}
    {{mini-date-change value=value stopTime=stopTime changed='dateChanged'}}
  {{/if}}
  {{#if changingTime}}
    {{mini-time-change time=value duration=_duration timeChanged='timeChanged' durationChanged='durationChanged'}}
  {{/if}}
</div>
{{/if}}
{{yield}}
